version: 2

models:
  - name: stg_eis__contract_parentProduct
    description: "Стадия нормализации данных из fz44_contract_parentProduct"
    columns:
      - name: purchaseObjectSid
        description: |
          Уникальный идентификатор объекта закупки в ЕИС в извещении-основании. 
          При приеме контролируется, что извещение с реестровым номером foundation/fcsOrder/order/notificationNumber имеет один из следующих способов определения поставщика: ЭА20, ЭОК20, ЭЗК20, ЭЗТ . Также контролируется, что указанный идентификатор присутствует в извещении с реетровым номером foundation/fcsOrder/order/notificationNumber
        data_type: text
      - name: purchaseObjectExternalSid
        description: |
          Внешний идентификатор объекта закупки в извещении-основании. 
          При приеме контролируется, что извещение с реестровым номером foundation/fcsOrder/order/notificationNumber имеет один из следующих способов определения поставщика: ЭА20, ЭОК20, ЭЗК20, ЭЗТ. Также контролируется, что указанный идентификатор присутствует в извещении с реетровым номером foundation/fcsOrder/order/notificationNumber
        data_type: text
      - name: electronicContractObjectSid
        description: |
          Уникальный идентификатор объекта закупки в ЕИС в электронном контракте.
          
          В случае, если объект закупки унаследован из структурированного контракта, то принимается и сохраняется, если заполнено поле \"Внешний идентификатор объекта закупки\" (products/parentProduct/externalSid), иначе игнорируется при приеме, заполняется при передаче
        data_type: text
      - name: electronicContractExternalSid
        description: |
          Внешний идентификатор объекта закупки в электронном контракте.
          
          В случае, если объект закупки унаследован из структурированного контракта, то принимается и сохраняется, если заполнено поле \"Внешний идентификатор объекта закупки\" (products/parentProduct/externalSid), иначе игнорируется при приеме, заполняется при передаче
        data_type: text
      - name: sid
        description: |
          Уникальный идентификатор в ЕИС.
          Игнорируется при приеме первой версии сведений о контракте. Назначается в ЕИС и заполняется при передаче.
          Назначается один раз при сохранении версии документа, в которой добавлен объект закупки, не меняется в следующих версиях.
          При приеме последующих версий используется для идентификации объекта закупки в разных версиях сведений о контракте. При приеме изменений сведений о контракте, если поле заполнено, то контролируется, что в предыдущей версии сведений о контракте найден объект закупки с указанным значением sid
        data_type: text
      - name: externalSid
        description: |
          Внешний идентификатор объекта закупки.
          Если при приеме изменений размещенных сведений о контракте задано поле \"Уникальный идентификатор в ЕИС\" (products\product\sid), то для объекта закупки, идентифицируемого в разных версиях по полю \"Уникальный идентификатор в ЕИС\" (products\product\sid), в данном поле должно быть задано то же значение, что и в предыдущей версии сведений о контракте. При этом, если в предыдущей версии сведений о контракте объекта закупки не задано поле данное поле, то при приеме изменений допускается его указание
          
          При приеме проекта первоначальной версии, сформированного на основании электронного контракта в структурированном виде И при приеме изменений сведений о контракте с установленным признаком \"Документ на базе РЭК\" принимается и сохраняется, если поле заполнено
        data_type: text
      - name: guid
        description: |
          GUID объекта закупки.
          Игнорируется при приеме, используется для электронного актирования
        data_type: text
      - name: indexNum
        description: |
          Порядковый номер предмета контракта (объекта закупки).
          При приеме игнорируется, заполняется при передаче, используется при формировании печатной формы
        data_type: text
      - name: code
        description: "Код товара, работы или услуги"
        data_type: text
      - name: name
        description: "Наименование товара, работы или услуги"
        data_type: text
      - name: code
        description: "Код товара, работы или услуги"
        data_type: text
      - name: name
        description: "Наименование товара, работы или услуги"
        data_type: text
      - name: code
        description: "Код товара, работы или услуги в справочнике Каталог товаров, работ, услуг (КТРУ) (nsiKTRU)"
        data_type: text
      - name: name
        description: |
          Наименование товара, работы или услуги в справочнике Каталог товаров, работ, услуг (КТРУ) (nsiKTRU).
          Игнорируется при приеме, при передаче заполняется значением из справочника
        data_type: text
      - name: versionId
        description: |
          Идентификатор версии позиции.
          Не используется, добавлено на развитие
        data_type: int8
      - name: versionNumber
        description: "Номер версии позиции"
        data_type: int8
      - name: code
        description: "Код товара, работы или услуги"
        data_type: text
      - name: name
        description: "Наименование товара, работы или услуги"
        data_type: text
      - name: name
        description: |
          Наименование объекта закупки в соответствии с контрактом. Контролируется обязательность заполнения.
          Игнорируется при приеме, если тип изменения modification/contractChange и не установлен признак products/product/improvedProductReplacement и заполняется автоматически значением из предыдущей версии сведений о контракте, в противном случае принимается и сохраняется. Принимается и сохраняется вслучае, если получен признак «Предмет контракта относится к работам по строительству» (constructionWorksInfo/isConstructionWorks) И «Причина изменений условий кон-тракта из справочника \"Справочник: Причины изменения условий контракта\" (nsiContractModificationReason)» (modification/contractChange/reason/code) имеет значение с кодом по справочнику 014 или 015
        data_type: text
      - name: hierarchyType
        description: |
          Тип объекта закупки в иерархии.
          При приеме игнорируется, заполняется автоматически значением P - \"Родитель\" и выгружается. Используется при формировании печатной формы
        data_type: text
      - name: type
        description: |
          Тип объекта закупки.
          Допустимые значения:
          PRODUCT - товар;
          WORK - работа;
          SERVICE - услуга.
          Для объекта закупки, имеющего соподчиненные объекты закупки допустимо только значения WORK или SERVICE
        data_type: text
      - name: volumeSpecifyingMethod
        description: |
          Способ указания объема выполнения работы, оказания услуги. 
          
          Принимается из пакета. Для унаследованных объектов закупки из извещения (приглашения) поле заполняется значением из извещения (приглашения), а если не указано , то поле заполняется значением «Числовое значение».
          
          Допустимые значения:
          QF - Объем может быть указан в количественном выражении;
          VTF - Объем не может быть указан в количественном выражении (указание объема в текстовом виде)
        data_type: text
      - name: sum
        description: "Стоимость поставляемого товара, выполняемых работ, оказываемых услуг в валюте контракта. Поле автоматически заполняется сумой значений поля sum всех «дочерних» объектов закупки данного «родительского» объекта закупки"
        data_type: text
      - name: sumRUR
        description: |
          Стоимость поставляемого товара, выполняемых работ, оказываемых услуг в рублевом эквиваленте.
          Не заполняется  в случае, если заполнен блок \"Сведения об объекте закупки в том случае, когда объектом закупки является лекарственный препарат\" (drugPurchaseObjectInfo)
        data_type: text
      - name: improvedProductReplacement
        description: |
          Объект закупки заменен на товар, работу, услугу, качество, технические и функциональные характеристики (потребительские свойства) которых улучшены в сравнении с указанными в контракте. 
          Игнорируется при приеме начальной версии контракта. 
          Игнорируется при приеме, если задан тип изменения контракта modification/errorCorrection
        data_type: boolean
